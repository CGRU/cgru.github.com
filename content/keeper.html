<h2 id="page_top" class="anchor">Keeper</h2>

<h3>Contents</h3>
<ul>
<li>
	<a href="#keeper_decription">Description</a>
</li>
<li>
	<a href="#keeper_start">Start</a>
</li>
<li>
	<a href="#keeper_commands">Launch System Commands</a>
</li>
<li>
	<a href="#keeper_https">HTTPS Server</a>
</li>
</ul>


<h3 id="keeper_decription" class="anchor">Description</h3>
<p>
	Keeper is a system tray icon menu to launch and manage CGRU applications, launch and configure other software.
</p>
<p>
	It is also designed to launch system commands.
</p>

<table width="100%" align="center" border="0">
   <tr align="center">
      <td width="33%">Software Menu:</td>
      <td width="33%">Afanasy Menu:</td>
      <td width="33%">MovieMaker Menu:</td>
   </tr>
   <tr align="center">
      <td><p><img src="images/keeper/tray_menu_software.png" alt="tray_menu_software.png"/></p></td>
      <td><p><img src="images/keeper/tray_menu_afanasy.png" alt="tray_menu_afanasy.png"/></p></td>
      <td><p><img src="images/keeper/tray_menu_moviemaker.png" alt="tray_menu_moviemaker.png"/></p></td>
   </tr>
</table>

<p>
	<b>[ browse ]</b> - Open a folder that contains launch scripts. Useful to create links on a desktop.
</p>


<h3 id="keeper_start" class="anchor">Start Keeper</h3>
<ul>
	<li><b>MS Windows</b>: <kbd>cgru\start.cmd</kbd></li>
	<li><b>Mac OS X</b>: <kbd>cgru/start.command</kbd></li>
	<li><b>Linux</b>: <kbd>cgru/start.sh</kbd>
		<p>Linux CGRU package creates an item in Applications menu to launch Keeper:</p>
		<img src="images/keeper/linux_menu.png" alt="linux_menu">
	</li>
</ul>

<h3 id="keeper_commands" class="anchor">Launch System commands</h3>
<p>
	Rules and Afanasy Web GUIs launch system commands via keeper.
	Web browsers can't launch system commands due security reasons.
	But they can ask Keeper to launch a command.
</p>
<p>
	Rules assumes to use secured HTTPS protocol, as designed to work over internet.
	Browsers can't mix HTTPS and HTTP protocol for security reasons too.
	So keeper should use HTTPS protocol for commands.
	This means that we should setup Keeper HTTPS server.
</p>


<h3 id="keeper_https" class="anchor">HTTPS Server.</h3>
<p>
	Keeper uses <code>HTTPServer</code> module and a <code>ssl</code> module to wrap its socket.
	On start it checks <code>cgru/utilities/keeper/serverhttps.pem</code> certificate file for existence.
	To generate it you can execute:
	<pre>openssl req -new -x509 -keyout serverhttps.pem -out serverhttps.pem -days 3656 -nodes</pre>
	If this file exists, Keeper starts to listen <code>44443</code> port.
</p>
<p>
	The next you should create a security exception in a browser for this certificate.
	For this you should open Keeper test page and confirm a security exception.
	To open Keeper test page you can use this Keeper tray menu item: <i><i>Configure -&gt; HTTPS Server...</i>
</p>

