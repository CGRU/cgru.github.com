<h2>CGRU Linux Packages</h2>

<ul>
<li>
<b>Server:</b> You need to install <b>afanasy-server</b> package.
You can to install <b>afanasy-render</b> package to monitor its resources.
You should limit some heavy tasks not to run in server machine.
</li>
<li>
<b>Render:</b> You need to install <b>afanasy-render</b> package.
</li>
<li>
<b>Workstation:</b> You need to install <b>cgru</b> package.
</li>
</ul>

<p>
You can simple to install <b>cgru</b> package on any machine.
And install additional <b>afanasy-server</b> package on server machine.
If you do not care about some unneeded libraries.
</p>
<p>
You can use scripts that exist in CGRU archive to install.
</p>
<p>
CGRU will be installed in <kbd>/opt/cgru</kbd> folder.
</p>

<table border="1" width="100%">
<tr aligh="center">
	<td style="padding:6px">
		<h3>Dependence<br/>Structure:</h3>
	</td>
	<td style="padding:6px">
		<h3>Description:</h3>
	</td>
	<td style="padding:6px">
		<h3>Depends:</h3>
	</td>
	<td style="padding:6px">
		<h3>Suggests:</h3>
	</td>
</tr>
<tr aligh="center">
	<td rowspan="6" style="padding:6px">
		<ul>
		<li>
			cgru
			<ul>
			<li>
				afanasy-render
				<ul>
				<li>
					afanasy-common
					<ul>
					<li>
						cgru-common
					</li>
					</ul>
				</li>
				</ul>
			</li>
			<li>
				afanasy-qtgui
				<ul>
				<li>
					cgru-common
				</li>
				</ul>
			</li>
			</ul>
		</li>
		<li>
			afanasy-server
			<ul>
			<li>
				afanasy-common
				<ul>
				<li>
					cgru-common
				</li>
				</ul>
			</li>
			</ul>
		</li>
		</ul>
	</td>
	<td style="padding:6px">
		<p><b>cgru</b>: Start menu item.</p>
	</td>
	<td align="center" style="padding:6px">
		PyQt
	</td>
	<td align="center" style="padding:6px">
	</td>
</tr>
<tr>
	<td style="padding:6px">
		<p><b>cgru-common</b>: All files, except Afanasy binaries.<br/></p>
	</td>
	<td align="center" style="padding:6px">
	</td>
	<td align="center" style="padding:6px">
	</td>
</tr>
<tr>
	<td style="padding:6px">
		<p><b>afanasy-common</b>: Afanasy binary files.</p>
	</td>
	<td align="center" style="padding:6px">
		PostgreSQL (libpq)<br/>
	</td>
	<td align="center" style="padding:6px">
	</td>
</tr>
<tr>
	<td style="padding:6px">
		<p><b>afanasy-render</b>: Afanasy render startup script. Creates '<i>render</i>' user if does not exists.</p>
	</td>
	<td align="center" style="padding:6px">
	</td>
	<td align="center" style="padding:6px">
	</td>
</tr>
<tr>
	<td style="padding:6px">
		<p><b>afanasy-server</b>: Afanasy server startup script. Creates '<i>render</i>' user if does not exists.</p>
	</td>
	<td align="center" style="padding:6px">
	</td>
	<td align="center" style="padding:6px">
		postgresql-server apache php php-gd php-pgsql
	</td>
</tr>
<tr>
	<td style="padding:6px">
		<p><b>afanasy-qtgui</b>: Afanasy Qt GUI files.</p>
	</td>
	<td align="center" style="padding:6px">
		Qt (libqt)<br/>
	</td>
	<td align="center" style="padding:6px">
	</td>
</tr>
<tr>
	<td style="padding:6px" colspan="2">
	</td>
	<td style="padding:6px" colspan="2">
		* <i>Packages names are vary in each Linux distribution.</i>
	</td>
</tr>
</table>

<h3>Setup Files:</h3>
<ul>
<li>
	<b>opt/cgru/config.json</b> - global CGRU and Afanasy configuration.
</li>
<li>
	<b>opt/cgru/afanasy/farm.json</b> - Farm hosts configuration.
</li>
<li>
	<b>opt/cgru/afanasy/nonrootuser</b> - Afanasy server and render user name (default = render).
</li>
<li>
	<b>opt/cgru/afanasy/init/depends_afserver_*</b> - Afanasy server depends.<br/>
	<b>opt/cgru/afanasy/init/depends_afrender_*</b> - Afanasy render depends.
</li>
</ul>

<p>
See Afanasy documentation for more detailed setup description.
</p>

<h3>Installation:</h3>
<ul>
<li>
Install and uninstall scripts provided with the packages.
</li>
<li>
Various GUI utilities, native for each Linux distribution, can install it.
</li>
<li>
Commands like <code>dpkg -i</code> for .<b>deb</b>'s and <code>rpm -i</code> for .<b>rmp</b>'s.
</li>
<li>
The best way is to put this packages in you local company Linux repository.
And to use native Linux ways to install and update software.
In this way Linux system solves packages dependences itself.
</li>
</ul>

<h3>Linux Applications Menu:</h3>
<img src="images/keeper/linux_menu.png" alt="linux_menu">
<p>
This menu item launches <a href="#keeper.html">Keeper</a>.
</p>

<h3>*Warning:</h3>
<p>
If packages structure changed, you should uninstall all previous packages yourself before install new version.
For example structure changed from 1.5.1 version.
If you install packages using script provided with CGRU archive,
you should uninstall previous packages using script from than previous packages archive, not from new one.
<p>
</p>
If you make such mistake, you always can remove all CGRU packages by hands.
See commands in uninstall script from any version and use them to remove old 'hanging' package, which does not exist in the new version.
</p>

